<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dark Thailand</title>
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: #1a1a1a;
            color: #ff4444;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow-x: hidden;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 10px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        .header {
            text-align: center;
            padding: 10px 0;
        }
        .promo {
            background: #333;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
            text-align: center;
        }
        .menu {
            display: flex;
            justify-content: space-around;
            margin-bottom: 10px;
        }
        .menu button {
            padding: 10px;
            background: #ff4444;
            border: none;
            color: white;
            border-radius: 5px;
            cursor: pointer;
            flex-grow: 1;
            margin: 0 5px;
        }
        .menu button:hover {
            background: #cc3333;
        }
        #catalogMenu, #profileMenu, #vacancyMenu, #mailMenu {
            display: none;
            flex-grow: 1;
            flex-direction: column;
        }
        .filters {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 10px;
        }
        select {
            padding: 8px;
            border-radius: 5px;
            background: #333;
            color: white;
            border: none;
        }
        .tabs {
            display: flex;
            overflow-x: auto;
            margin-bottom: 10px;
            white-space: nowrap;
        }
        .tab {
            padding: 10px;
            background: #333;
            color: white;
            border-radius: 5px;
            margin-right: 5px;
            cursor: pointer;
        }
        .tab.active {
            background: #ff4444;
        }
        .tab-content {
            display: none;
        }
        .product-card {
            background: #333;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
            cursor: pointer;
        }
        .product-card img {
            max-width: 100%;
            border-radius: 5px;
        }
        .profile-info, .vacancy-list, .mail-list {
            background: #333;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .modal-content {
            background: #333;
            padding: 20px;
            border-radius: 5px;
            max-width: 90%;
            max-height: 90%;
            overflow-y: auto;
            color: white;
            text-align: center;
        }
        .modal-content img.product-image {
            max-width: 100%;
            border-radius: 5px;
            margin: 10px 0;
        }
        .buy-button, .preorder-button {
            padding: 10px;
            margin: 5px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            background: #ff4444;
            color: white;
        }
        .preorder-button {
            background: #666;
        }
        .review {
            background: #444;
            padding: 10px;
            border-radius: 5px;
            margin: 5px 0;
            text-align: left;
        }
        .review-date {
            font-size: 0.8em;
            color: #aaa;
        }
        .moderator-response {
            background: #555;
            padding: 5px;
            border-radius: 5px;
            margin-top: 5px;
            font-style: italic;
        }
        textarea {
            width: 100%;
            padding: 10px;
            border-radius: 5px;
            background: #444;
            color: white;
            border: none;
            resize: vertical;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 id="headerText">Reliable shop in your pocket</h1>
            <div class="promo" id="promoBanner">Invite friends and get bonuses! 5 friends = 0.5g amphetamine, 10 friends = 0.5g cocaine (MQ), 25 friends = 1g cocaine (VHQ)!</div>
        </div>
        <div class="menu">
            <button id="catalogButton" onclick="toggleCatalog()">Catalog</button>
            <button id="profileButton" onclick="toggleProfile()">Profile</button>
            <button id="vacanciesButton" onclick="toggleVacancies()">Vacancies</button>
            <button id="mailButton" onclick="toggleMail()">Mail</button>
        </div>
        <div id="catalogMenu">
            <div class="filters">
                <select id="citySelect" onchange="filterByCity()">
                    <option value="all" id="allCitiesOption">All cities</option>
                    <option value="phuket" id="phuketOption">Phuket</option>
                    <option value="pattaya" id="pattayaOption">Pattaya</option>
                    <option value="bangkok" id="bangkokOption">Bangkok</option>
                    <option value="samui" id="samuiOption">Koh Samui</option>
                </select>
                <select id="districtSelect" onchange="filterByDistrict()">
                    <option value="all" id="allDistrictsOption">All districts</option>
                </select>
            </div>
            <div class="tabs">
                <div class="tab" data-tab="weed" id="weedTab">Marijuana</div>
                <div class="tab" data-tab="hash" id="hashTab">Hashish</div>
                <div class="tab" data-tab="coke" id="cokeTab">Cocaine</div>
                <div class="tab" data-tab="amph" id="amphTab">Amphetamine</div>
                <div class="tab" data-tab="meth" id="methTab">Methamphetamine</div>
                <div class="tab" data-tab="meph" id="mephTab">Mephedrone</div>
                <div class="tab" data-tab="alpha" id="alphaTab">Alpha-PVP</div>
                <div class="tab" data-tab="lsd" id="lsdTab">LSD</div>
                <div class="tab" data-tab="mdma" id="mdmaTab">MDMA</div>
                <div class="tab" data-tab="heroin" id="heroinTab">Heroin</div>
            </div>
            <div id="weed" class="tab-content">
                <div class="product-card" data-product="weed-1" data-city="phuket" data-district="Patong" onclick="showProductModal('weed', 1)">
                    <h3>Jamaican Haze</h3>
                    <p id="weedDesc">Exclusive Jamaican sativa, pure bliss</p>
                    <img src="https://i.postimg.cc/nMGvf409/jamaican-haze.jpg" alt="Jamaican Haze">
                </div>
            </div>
            <div id="hash" class="tab-content">
                <div class="product-card" data-product="hash-1" data-city="phuket" data-district="Karon" onclick="showProductModal('hash', 1)">
                    <h3>Hash #1</h3>
                    <p>Premium Moroccan hash</p>
                    <img src="https://i.postimg.cc/sD11WBq4/image.jpg" alt="Hash #1">
                </div>
            </div>
            <div id="coke" class="tab-content">
                <div class="product-card" data-product="coke-1" data-city="phuket" data-district="Patong" onclick="showProductModal('coke', 1)">
                    <h3>Cocaine VHQ</h3>
                    <p>High purity cocaine</p>
                    <img src="https://i.postimg.cc/3W512jLd/image.jpg" alt="Cocaine VHQ">
                </div>
            </div>
            <div id="amph" class="tab-content">
                <div class="product-card" data-product="amph-1" data-city="pattaya" data-district="Central Pattaya" onclick="showProductModal('amph', 1)">
                    <h3>Amphetamine</h3>
                    <p>Pure energy boost</p>
                    <img src="https://i.postimg.cc/3Jgrmg9p/image.jpg" alt="Amphetamine">
                </div>
            </div>
            <div id="meth" class="tab-content">
                <div class="product-card" data-product="meth-1" data-city="phuket" data-district="Phuket Town" onclick="showProductModal('meth', 1)">
                    <h3>Methamphetamine</h3>
                    <p>Crystal clear high</p>
                    <img src="https://i.postimg.cc/dVPkKsNR/image.jpg" alt="Methamphetamine">
                </div>
            </div>
            <div id="meph" class="tab-content">
                <div class="product-card" data-product="meph-1" data-city="phuket" data-district="Patong" onclick="showProductModal('meph', 1)">
                    <h3>Mephedrone</h3>
                    <p>Intense euphoria</p>
                    <img src="https://i.postimg.cc/4NMvHRLn/image.jpg" alt="Mephedrone">
                </div>
            </div>
            <div id="alpha" class="tab-content">
                <div class="product-card" data-product="alpha-1" data-city="pattaya" data-district="Jomtien" onclick="showProductModal('alpha', 1)">
                    <h3>Alpha-PVP</h3>
                    <p>Powerful stimulant</p>
                    <img src="https://i.postimg.cc/hjmpv3rH/image.jpg" alt="Alpha-PVP">
                </div>
            </div>
            <div id="lsd" class="tab-content">
                <div class="product-card" data-product="lsd-1" data-city="phuket" data-district="Karon" onclick="showProductModal('lsd', 1)">
                    <h3>LSD 250µg</h3>
                    <p>Pure psychedelic trip</p>
                    <img src="https://i.postimg.cc/yNHGMRzm/250.jpg" alt="LSD 250µg">
                </div>
            </div>
            <div id="mdma" class="tab-content">
                <div class="product-card" data-product="mdma-1" data-city="phuket" data-district="Patong" onclick="showProductModal('mdma', 1)">
                    <h3>MDMA Crystals</h3>
                    <p>Love in crystal form</p>
                    <img src="https://i.postimg.cc/521GGvJw/image.jpg" alt="MDMA Crystals">
                </div>
            </div>
            <div id="heroin" class="tab-content">
                <div class="product-card" data-product="heroin-1" data-city="pattaya" data-district="Central Pattaya" onclick="showProductModal('heroin', 1)">
                    <h3>Heroin</h3>
                    <p>Deep relaxation</p>
                    <img src="https://i.postimg.cc/gkX1RN0k/image.jpg" alt="Heroin">
                </div>
            </div>
        </div>
        <div id="profileMenu">
            <div class="profile-info">
                <p id="profileNameLabel">Name: Guest</p>
                <p>Balance: <span id="balance">0 ฿</span></p>
                <p id="ordersLabel">Orders: 0</p>
                <p id="referralsLabel">Friends invited: 0</p>
                <button class="buy-button" id="depositTitle" onclick="showDepositModal('USDT')">Top up balance</button>
                <button class="buy-button" id="promoInfo" onclick="showPromoDetails()">Invite friends</button>
            </div>
            <h3 id="orderHistoryTitle">Recent orders</h3>
            <div id="orderList" class="profile-info"></div>
        </div>
        <div id="vacancyMenu">
            <h2 id="vacanciesTitle">Vacancies at Dark Thailand</h2>
            <div class="vacancy-list">
                <h3 id="courierTitle">Courier</h3>
                <p id="courierDuties">Duties: Delivery and stashing goods at coordinates.</p>
                <p id="courierPay">Pay: 500-1000 ฿ per stash (depends on volume).</p>
                <button class="buy-button" id="applyButton1" onclick="applyForJob('Courier')">Apply</button>
            </div>
            <div class="vacancy-list">
                <h3 id="warehousemanTitle">Warehouseman</h3>
                <p id="warehousemanDuties">Duties: Packing and preparing goods for shipment.</p>
                <p id="warehousemanPay">Pay: 2000-3000 ฿ per shift.</p>
                <button class="buy-button" id="applyButton2" onclick="applyForJob('Warehouseman')">Apply</button>
            </div>
            <div class="vacancy-list">
                <h3 id="transporterTitle">Transporter</h3>
                <p id="transporterDuties">Duties: Transporting goods between Thai cities.</p>
                <p id="transporterPay">Pay: 5000-10000 ฿ per trip.</p>
                <button class="buy-button" id="applyButton3" onclick="applyForJob('Transporter')">Apply</button>
            </div>
            <div class="vacancy-list">
                <h3 id="smmTitle">SMM Manager</h3>
                <p id="smmDuties">Duties: Promoting the shop on social media and forums.</p>
                <p id="smmPay">Pay: 3000-5000 ฿ per week + activity bonuses.</p>
                <button class="buy-button" id="applyButton4" onclick="applyForJob('SMM Manager')">Apply</button>
            </div>
        </div>
        <div id="mailMenu">
            <h2 id="mailTitle">Mail</h2>
            <div id="mailList" class="mail-list"></div>
        </div>
    </div>

    <div id="registrationModal" class="modal">
        <div class="modal-content">
            <h2 id="regTitle">Registration</h2>
            <label id="regNicknameLabel">Enter your desired nickname:</label>
            <input type="text" id="regNickname" placeholder="Your nickname">
            <label id="regLanguageLabel">Choose language:</label>
            <select id="regLanguage">
                <option value="en">English</option>
                <option value="ru">Русский</option>
                <option value="th">ไทย</option>
            </select>
            <button class="buy-button" onclick="registerUser()">Register</button>
            <p id="regError" style="color: #ff9999;"></p>
        </div>
    </div>
    <div id="productModal" class="modal">
        <div class="modal-content" id="productContent"></div>
    </div>
    <div id="paymentModal" class="modal">
        <div class="modal-content" id="paymentContent"></div>
    </div>
    <div id="preorderModal" class="modal">
        <div class="modal-content" id="preorderContent"></div>
    </div>
    <div id="depositModal" class="modal">
        <div class="modal-content" id="depositContent"></div>
    </div>
    <div id="customModal" class="modal">
        <div class="modal-content" id="customContent"></div>
    </div>
    <div id="confirmModal" class="modal">
        <div class="modal-content" id="confirmContent"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="app.js"></script>
</body>
</html>
